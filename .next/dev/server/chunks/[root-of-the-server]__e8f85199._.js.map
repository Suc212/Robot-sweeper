{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/H-GB%20VIDEO%20EDITOR/Desktop/DEV/Robot-sweeper-landing-page/lib/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\"\nimport { getFirestore } from \"firebase/firestore\"\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n}\n\n// Initialize Firebase (singleton pattern)\nconst app = getApps().length > 0 ? getApp() : initializeApp(firebaseConfig)\nexport const db = getFirestore(app)\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAAA;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ,QAAQ,GAAG,CAAC,4BAA4B;IAChD,YAAY,QAAQ,GAAG,CAAC,gCAAgC;IACxD,WAAW,QAAQ,GAAG,CAAC,+BAA+B;IACtD,eAAe,QAAQ,GAAG,CAAC,mCAAmC;IAC9D,mBAAmB,QAAQ,GAAG,CAAC,wCAAwC;IACvE,OAAO,QAAQ,GAAG,CAAC,2BAA2B;AAChD;AAEA,0CAA0C;AAC1C,MAAM,MAAM,IAAA,6KAAO,IAAG,MAAM,GAAG,IAAI,IAAA,4KAAM,MAAK,IAAA,mLAAa,EAAC;AACrD,MAAM,KAAK,IAAA,mLAAY,EAAC"}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/H-GB%20VIDEO%20EDITOR/Desktop/DEV/Robot-sweeper-landing-page/app/api/orders/route.ts"],"sourcesContent":["import { type NextRequest, NextResponse } from \"next/server\"\nimport { Resend } from \"resend\"\nimport { z } from \"zod\"\nimport { db } from \"@/lib/firebase\"\nimport { collection, addDoc, serverTimestamp } from \"firebase/firestore\"\n\nconst resendApiKey = process.env.RESEND_API_KEY\nif (!resendApiKey) {\n  console.error(\"RESEND_API_KEY is not set in environment variables.\")\n}\nconst resend = new Resend(resendApiKey)\n\nconst orderSchema = z.object({\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().min(1, \"Last name is required\"),\n  address: z.string().min(1, \"Address is required\"),\n  phone: z.string().min(1, \"Phone number is required\"),\n  whatsapp: z.string().min(1, \"WhatsApp number is required\"),\n  quantity: z.string().min(1, \"Quantity is required\"),\n  totalPrice: z.string().min(1, \"Total price is required\"),\n  discount: z.string().optional(),\n})\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json()\n    const orderData = orderSchema.parse(body)\n\n    // Save to Firestore\n    const orderRef = await addDoc(collection(db, \"orders\"), {\n      ...orderData,\n      quantity: Number.parseInt(orderData.quantity),\n      totalPrice: Number.parseInt(orderData.totalPrice),\n      discount: Number.parseInt(orderData.discount || \"0\"),\n      status: \"pending\",\n      createdAt: serverTimestamp(),\n    })\n\n    // Send admin notification email\n    const adminEmail = process.env.ADMIN_EMAIL || \"allthegoodthings14@gmail.com\"\n    const { error: adminError } = await resend.emails.send({\n      from: \"onboarding@resend.dev\",\n      to: [adminEmail],\n      subject: \"New SweepBot Pro Order Received\",\n      html: `\n        <h2>New Order Notification</h2>\n        <p><strong>Order ID:</strong> ${orderRef.id}</p>\n        <p><strong>Customer Details:</strong></p>\n        <ul>\n          <li><strong>Name:</strong> ${orderData.firstName} ${orderData.lastName}</li>\n          <li><strong>Phone:</strong> ${orderData.phone}</li>\n          <li><strong>WhatsApp:</strong> ${orderData.whatsapp}</li>\n          <li><strong>Address:</strong> ${orderData.address}</li>\n        </ul>\n        <p><strong>Order Details:</strong></p>\n        <ul>\n          <li><strong>Quantity:</strong> ${orderData.quantity} unit(s)</li>\n          <li><strong>Total Price:</strong> GH₵${Number.parseInt(orderData.totalPrice).toLocaleString()}</li>\n          <li><strong>Discount:</strong> GH₵${Number.parseInt(orderData.discount || \"0\").toLocaleString()}</li>\n          <li><strong>Payment:</strong> Cash on Delivery</li>\n          <li><strong>Order Time:</strong> ${new Date().toLocaleString()}</li>\n        </ul>\n      `,\n    })\n\n    if (adminError) {\n      console.error(\"Admin email sending error:\", adminError)\n    }\n\n    return NextResponse.json({ success: true, orderId: orderRef.id })\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return NextResponse.json({ error: \"Invalid input\", details: error.errors }, { status: 400 })\n    }\n\n    console.error(\"Order API error:\", error)\n    const message = error instanceof Error ? error.message : \"An unknown error occurred\"\n    return NextResponse.json({ error: \"Internal server error\", details: message }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AAAA;;;;;;AAEA,MAAM,eAAe,QAAQ,GAAG,CAAC,cAAc;AAC/C,IAAI,CAAC,cAAc;IACjB,QAAQ,KAAK,CAAC;AAChB;AACA,MAAM,SAAS,IAAI,oJAAM,CAAC;AAE1B,MAAM,cAAc,yKAAC,CAAC,MAAM,CAAC;IAC3B,WAAW,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC7B,UAAU,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,SAAS,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC3B,OAAO,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACzB,UAAU,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,UAAU,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,YAAY,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC9B,UAAU,yKAAC,CAAC,MAAM,GAAG,QAAQ;AAC/B;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,YAAY,YAAY,KAAK,CAAC;QAEpC,oBAAoB;QACpB,MAAM,WAAW,MAAM,IAAA,6KAAM,EAAC,IAAA,iLAAU,EAAC,uHAAE,EAAE,WAAW;YACtD,GAAG,SAAS;YACZ,UAAU,OAAO,QAAQ,CAAC,UAAU,QAAQ;YAC5C,YAAY,OAAO,QAAQ,CAAC,UAAU,UAAU;YAChD,UAAU,OAAO,QAAQ,CAAC,UAAU,QAAQ,IAAI;YAChD,QAAQ;YACR,WAAW,IAAA,sLAAe;QAC5B;QAEA,gCAAgC;QAChC,MAAM,aAAa,QAAQ,GAAG,CAAC,WAAW,IAAI;QAC9C,MAAM,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;YACrD,MAAM;YACN,IAAI;gBAAC;aAAW;YAChB,SAAS;YACT,MAAM,CAAC;;sCAEyB,EAAE,SAAS,EAAE,CAAC;;;qCAGf,EAAE,UAAU,SAAS,CAAC,CAAC,EAAE,UAAU,QAAQ,CAAC;sCAC3C,EAAE,UAAU,KAAK,CAAC;yCACf,EAAE,UAAU,QAAQ,CAAC;wCACtB,EAAE,UAAU,OAAO,CAAC;;;;yCAInB,EAAE,UAAU,QAAQ,CAAC;+CACf,EAAE,OAAO,QAAQ,CAAC,UAAU,UAAU,EAAE,cAAc,GAAG;4CAC5D,EAAE,OAAO,QAAQ,CAAC,UAAU,QAAQ,IAAI,KAAK,cAAc,GAAG;;2CAE/D,EAAE,IAAI,OAAO,cAAc,GAAG;;MAEnE,CAAC;QACH;QAEA,IAAI,YAAY;YACd,QAAQ,KAAK,CAAC,8BAA8B;QAC9C;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,SAAS,SAAS,EAAE;QAAC;IACjE,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,yKAAC,CAAC,QAAQ,EAAE;YAC/B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;gBAAiB,SAAS,MAAM,MAAM;YAAC,GAAG;gBAAE,QAAQ;YAAI;QAC5F;QAEA,QAAQ,KAAK,CAAC,oBAAoB;QAClC,MAAM,UAAU,iBAAiB,QAAQ,MAAM,OAAO,GAAG;QACzD,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;YAAyB,SAAS;QAAQ,GAAG;YAAE,QAAQ;QAAI;IAC/F;AACF"}}]
}